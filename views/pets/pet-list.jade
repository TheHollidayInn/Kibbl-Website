.container-fluid(style='padding:0px;' sticky offset="40")
  div.col-md-12.well(style="min-height:100px;")  
    .form-group.col-md-2
      h1(ng-if='!loading') Pets
      h1.loader(ng-if='loading') Loading...
    
    div.form-group.col-md-2
      label Location
      input.form-control(ng-model='filters.location', type='text', googleplace-autocomplete, googleplace-autocomplete-place='filters.autocomplete')
    
    div.form-group.col-md-1(input-field='')
      label Type
      br
      select.form-control(ng-model='filters.type', material-select='', watch='')
        option(ng-repeat='option in petTypes', value="{{option.value}}") {{option.key}}
    
    .form-group.col-md-2
      label Breed
      input.form-control(ng-model='filters.breed', type='text', uib-typeahead="breed for breed in currentBreeds | filter:$viewValue | limitTo:8" )
    
    div.form-group.col-md-1(input-field='')
      label Age
      br
      select.form-control(ng-model='filters.age', material-select='', watch='')
        option(ng-repeat='option in petAges', value="{{option.value}}") {{option.key}}

    div.form-group.col-md-1(input-field='')
      label Gender
      br
      select.form-control(ng-model='filters.gender', material-select='', watch='')
        option(ng-repeat='option in petGenders', value="{{option.value}}") {{option.key}}
    
    .form-group.col-md-2
      button.btn.btn-primary.btn-raised(ng-click='filter()') Filter
    
.container
  div.row(infinite-scroll="scroll()", infinite-scroll-distance="1")
    div.col-md-4.grid-item(ng-repeat="pet in pets", style="height:200px; overflow:hidden; border-radius: 5px;")
      a(href='/pets/{{pet._id}}')
        .grid-content.gradient
          .col-md-4
            .image-circle(ng-if='!pet.media[3]', style='background-image:url(../images/kibbl-logo-dog.png)')
            .image-circle(ng-if='pet.media[3]', style='background-image:url({{pet.media[3]}})')
          .col-md-8
            h3 {{pet.name}}
            h5 {{pet.description | limitTo: 100}} ...
